<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Deltarune Launcher</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="logo-container">
    <img src="logo.png" alt="Logo" class="logo">
  </div>

  <div class="menu">
    <a href="chapter1/index.html" class="row">
      <span class="chapter">Chapter 1</span>
      <span class="title">The Beginning</span>
      <img src="icons/1.png">
    </a>
    <a href="chapter2/index.html" class="row">
      <span class="chapter">Chapter 2</span>
      <span class="title">A Cyber's World</span>
      <img src="icons/2.png">
    </a>
    <a href="chapter3/index.html" class="row">
      <span class="chapter">Chapter 3</span>
      <span class="title">Late Night</span>
      <img src="icons/3.png">
    </a>
    <a href="chapter4/index.html" class="row">
      <span class="chapter">Chapter 4</span>
      <span class="title">Prophecy</span>
      <img src="icons/4.png">
    </a>
    <a href="#" class="disabled-row">
      <span class="chapter">Chapter 5</span>
      <span class="disabled-title">--</span>
      <img src="icons/0.png">
    </a>
    <a href="#" class="disabled-row">
      <span class="chapter">Chapter 6</span>
      <span class="disabled-title">--</span>
      <img src="icons/0.png">
    </a>
    <a href="#" class="disabled-row">
      <span class="chapter">Chapter 7</span>
      <span class="disabled-title">--</span>
      <img src="icons/0.png">
    </a>
  </div>

  <!-- Background music -->
  <audio id="drone" controls loop autoplay hidden>
    <source src="audios/AUDIO_DRONE.ogg" type="audio/ogg">
  </audio>

  <button id="mute">ðŸ”Š</button>

  <script>
    const audio = document.getElementById('drone');
    const mute = document.getElementById('mute');
    let gamestarted = false;

    // Mute toggle
    mute.addEventListener('click', () => {
      audio.muted = !audio.muted;
      mute.textContent = audio.muted ? 'ðŸ”‡' : 'ðŸ”Š';
    });

    // Menu sounds
    const menumoveaudio = new Audio('audios/snd_menumove.mp3');
    const menuselectaudio = new Audio('audios/snd_select.mp3');

    document.querySelectorAll('.row').forEach(row => {
      row.addEventListener('mouseenter', () => {
        if (!gamestarted) {
          menumoveaudio.currentTime = 0;
          menumoveaudio.play();
        }
      });
      row.addEventListener('click', () => {
        if (!gamestarted) {
          menuselectaudio.currentTime = 0;
          menuselectaudio.play();
        }
      });
    });

    // Keyboard navigation
    let selectedChapter = null;
    document.addEventListener('keydown', function(event) {
      if (!gamestarted) {
        const rows = Array.from(document.querySelectorAll('.row'));
        if (event.key === 'ArrowUp') {
          if (selectedChapter === null) selectedChapter = 0;
          else selectedChapter = (selectedChapter - 1 + rows.length) % rows.length;
        } else if (event.key === 'ArrowDown') {
          if (selectedChapter === null) selectedChapter = 0;
          else selectedChapter = (selectedChapter + 1) % rows.length;
        } else if (event.key === 'Enter' && selectedChapter !== null) {
          rows[selectedChapter].click();
        }
        rows.forEach(r => r.classList.remove('selected'));
        if (selectedChapter !== null) rows[selectedChapter].classList.add('selected');
        if (event.key === 'ArrowUp' || event.key === 'ArrowDown') menumoveaudio.play();
      }
    });
  </script>
</body>
</html>
