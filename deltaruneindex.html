<script>
launch()

function launch() {
  try {
    fetch(
      'deltarune.html?t=' + Date.now()  // points to your deltarune.html
    )
      .then((response) => response.text())
      .then((html) => {
        document.documentElement.innerHTML = html

        // --- Add chapter selection menu sounds ONLY ---
        const menumoveaudio = document.createElement('audio')
        menumoveaudio.src = 'audios/snd_menumove.mp3'
        menumoveaudio.id = 'menumoveaudio'
        menumoveaudio.preload = 'auto'
        document.body.appendChild(menumoveaudio)

        const menuselectaudio = document.createElement('audio')
        menuselectaudio.src = 'audios/snd_select.mp3'
        menuselectaudio.id = 'menuselectaudio'
        menuselectaudio.preload = 'auto'
        document.body.appendChild(menuselectaudio)

        document.querySelectorAll('.row').forEach(row => {
          row.addEventListener('mouseenter', () => {
            if (menumoveaudio) menumoveaudio.play()
          })
          row.addEventListener('click', () => {
            if (menuselectaudio) menuselectaudio.play()
          })
        })
        // --- End sounds ---
        
        // Re-add scripts from fetched HTML exactly as before
        document.documentElement.querySelectorAll('script').forEach((oldScript) => {
          const newScript = document.createElement('script')
          if (oldScript.src) {
            newScript.src = oldScript.src
          } else {
            newScript.textContent = oldScript.textContent
          }
          document.body.appendChild(newScript)
        })
      })
  } catch (error) {
    console.error('error:', error)
  }
}
</script>
