<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Deltarune Web Port</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<!-- Original Menu & Chapters HTML here -->
<div class="menu">
  <a href="javascript:loadChapter(1)" class="row">
    <span class="chapter">Chapter 1</span>
    <span class="title">The Beginning</span>
    <img src="icons/1.png">
  </a>
  <a href="javascript:loadChapter(2)" class="row">
    <span class="chapter">Chapter 2</span>
    <span class="title">A Cyber's World</span>
    <img src="icons/2.png">
  </a>
  <a href="javascript:loadChapter(3)" class="row">
    <span class="chapter">Chapter 3</span>
    <span class="title">Late Night</span>
    <img src="icons/3.png">
  </a>
  <a href="javascript:loadChapter(4)" class="row">
    <span class="chapter">Chapter 4</span>
    <span class="title">Prophecy</span>
    <img src="icons/4.png">
  </a>
  <!-- Disabled Chapters -->
  <a href="javascript:alert('Chapter 5 coming soon!')" class="disabled-row">
    <span class="chapter">Chapter 5</span>
    <span class="disabled-title">--</span>
    <img src="icons/0.png">
  </a>
  <a href="javascript:alert('Chapter 6 coming soon!')" class="disabled-row">
    <span class="chapter">Chapter 6</span>
    <span class="disabled-title">--</span>
    <img src="icons/0.png">
  </a>
  <a href="javascript:alert('Chapter 7 coming soon!')" class="disabled-row">
    <span class="chapter">Chapter 7</span>
    <span class="disabled-title">--</span>
    <img src="icons/0.png">
  </a>
</div>

<!-- Background Music -->
<audio id="drone" controls loop autoplay hidden>
  <source src="audios/AUDIO_DRONE.ogg" type="audio/ogg">
</audio>
<button id="mute">ðŸ”Š</button>

<script>
const audio = document.getElementById('drone');
const mute = document.getElementById('mute');
let gamestarted = false;

// Mute toggle
mute.addEventListener('click', () => {
  audio.muted = !audio.muted;
  mute.textContent = audio.muted ? 'ðŸ”Š' : 'ðŸ”‡';
});

// Keep the original chapter loading functionality
function loadChapter(chapter) {
  fetch(`chapter${chapter}/index.html`).then(res => res.text()).then(html => {
    gamestarted = true;
    document.documentElement.innerHTML = html;
    document.documentElement.querySelectorAll('script').forEach(oldScript => {
      const newScript = document.createElement('script');
      if (oldScript.src) {
        newScript.src = oldScript.src;
      } else {
        newScript.textContent = oldScript.textContent;
      }
      document.body.appendChild(newScript);
    });
  });
}
</script>

</body>
</html>
